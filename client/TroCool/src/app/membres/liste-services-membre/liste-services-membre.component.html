
<h5>Mes Services</h5>

<h6 *ngIf="services.length == 0">Aucun services présents</h6>
<mat-accordion class="services">
    <a *ngFor="let service of services; index as i">
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h6>{{service.nom | titlecase}}</h6>
                </mat-panel-title>
                <mat-panel-description>
                    <span>Descriptif: {{service.descriptif}}</span>
                </mat-panel-description>
            </mat-expansion-panel-header>
            <div><span>Id: </span>{{service._id}}</div>
            <ng-template matExpansionPanelContent>
                <div>
                    <h6>Créneaux Disponibles :</h6>
                    <a *ngFor="let creneau of service.dates">
                        <div>
                            <div class="date"><span>{{creneau.date|date:"dd:LLL:yyyy"}}</span></div>
                            <span>{{creneau.matin ? ("Matin") : ""}} {{creneau.aprem ? ("Après-midi") : ""}}</span>
                        </div>
                    </a>
                </div>

                <div>
                    <h6>Créneaux Occupés :</h6>
                    <a *ngFor="let loue of service.dates_loue">
                        <div>
                            <div class="date"><span>{{loue.date|date:"dd:LLL:yyyy"}}</span></div>
                            <span>{{loue.matin ? ("Matin") : ""}} {{loue.aprem ? ("Après-midi") : ""}}</span>
                        </div>
                    </a>
                </div>
                <div>
                    <button class="btn btn-primary" (click)="supprimerService(service._id)">Supprimer le service</button>
                </div>
            </ng-template>

        </mat-expansion-panel>
    </a>
</mat-accordion>
